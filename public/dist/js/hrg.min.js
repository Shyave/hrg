var ngApp=angular.module("hrgDashB",["ngMaterial","nvd3"]).config(function($interpolateProvider,$locationProvider,$controllerProvider){$interpolateProvider.startSymbol("[["),$interpolateProvider.endSymbol("]]")});ngApp.controller("dataCtrl",["$scope","$rootScope","$mdSidenav","$mdToast","$mdDialog","$window","$location","dataService","$interval",function($scope,$rootScope,$mdSidenav,$mdToast,$mdDialog,$window,$location,dataService,$interval){function sanitizePosition(){var current=$scope.toastPosition;current.bottom&&last.top&&(current.top=!1),current.top&&last.bottom&&(current.bottom=!1),current.right&&last.left&&(current.left=!1),current.left&&last.right&&(current.right=!1),last=angular.extend({},current)}function _renderGraph(){var valArr=[];dataService.getData().then(function(data){angular.forEach(data.data,function(v,k){var _obj={};_obj.label=v.name,_obj.value=1*v.price_usd,valArr.push(_obj)}),$scope.data=[{key:"Cumulative Return",values:valArr}]})}$scope.skippedUrls=[];var skippedUrls=$scope.skippedUrls;$rootScope.loaderExceptionCount=0,$scope.isAnythingLoading=function(){return $http.pendingRequests.filter(function(req){return!skippedUrls.includes(req.url)}).length>$rootScope.loaderExceptionCount};var last={bottom:!0,top:!1,left:!0,right:!1};$scope.toastPosition=angular.extend({},last);$scope.getToastPosition;$scope.getToastPosition=function(){return sanitizePosition(),Object.keys($scope.toastPosition).filter(function(pos){return $scope.toastPosition[pos]}).join(" ")},$rootScope.showSimpleToast=function(text){var pinTo=$scope.getToastPosition();$mdToast.show($mdToast.simple().textContent(text).position(pinTo).hideDelay(3e3))},$rootScope.failure=function(){$scope.showSimpleToast("Network error, please try again later")},$rootScope.showAlert=function(ev,id,title,content,bttn){$mdDialog.show($mdDialog.alert().parent(angular.element(document.querySelector(id))).clickOutsideToClose(!1).title(title).textContent(content).ariaLabel("Alert Dialog Demo").ok(bttn).targetEvent(ev))},$scope.options={chart:{type:"discreteBarChart",height:450,width:1e3,margin:{top:40,right:80,bottom:40,left:80},x:function(d){return d.label},y:function(d){return d.value+1e-10},showValues:!0,valueFormat:function(d){return d3.format(",.2f")(d)},duration:500,xAxis:{axisLabel:"X Axis (coins)"},yAxis:{axisLabel:"Y Axis in $",axisLabelDistance:10}}},$interval(_renderGraph,3e5);!function(){_renderGraph()}()}]),ngApp.service("dataService",["$http","$rootScope",function($http,$rootScope){this.getData=function(){return $http.get("https://api.coinmarketcap.com/v1/ticker/?limit=10").then(function(res){return res},function(err){$rootScope.failure()})}}]);